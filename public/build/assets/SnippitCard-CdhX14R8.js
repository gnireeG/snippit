import{A as T,k as g,r as m,o,d as n,a as t,b as r,w as l,t as u,n as y,u as v,m as _,e as h,f as S,F as D}from"./app-xjV7HbQ7.js";import{_ as $}from"./DialogModal-DwxoQh90.js";import{_ as B}from"./CodeMirror-DpY-DzQd.js";const N={class:"bg-secondary rounded-lg px-4 py-3 flex flex-col jusitfy-between shadow-lg snippit-card"},j={class:"flex justify-between"},E={class:"heading-3"},V=["title"],I={class:"mt-2"},A={class:"flex justify-between items-center mt-4 border-t dark:border-slate-600 border-slate-400 pt-4"},F={class:"flex gap-2"},M=t("i",{class:"bi bi-eye"},null,-1),P=[M],W={key:0,class:"bi bi-copy"},q={key:1,class:"bi bi-clipboard-check"},z=["draggable"],H=t("i",{class:"bi bi-folder-symlink"},null,-1),O=[H],G={class:"heading-3"},J={class:"bg-slate-50 text-gray-800 h-[75vh]"},K={key:0,class:"bi bi-copy"},L={key:1,class:"bi bi-clipboard-check"},X={__name:"SnippitCard",props:{snippit:Object,draggable:{type:Boolean,default:!1}},setup(i){T();const c=i;function x(s){s.dataTransfer.setData("event","moveSnippit"),s.dataTransfer.setData("snippitId",c.snippit.id);let a=s.target.closest(".snippit-card"),e=a.querySelector(".devicon").cloneNode(!0);document.body.appendChild(e),e.style.position="fixed",e.style.width=`${e.offsetWidth}px`,e.style.height=`${e.offsetHeight}px`,s.dataTransfer.setDragImage(e,5,5),s.dataTransfer.onend=function(){document.body.removeChild(e),s.target.style.opacity="",a.style.opacity="1"}}const f=g(()=>!!navigator.clipboard),b=()=>{navigator.clipboard.writeText(c.snippit.code),d.value=!0,setTimeout(()=>{d.value=!1},2e3)},p=m(!1);function k(){p.value=!0}const C=g(()=>{const s=[{original:"css",replacement:"css3"},{original:"html",replacement:"html5"},{original:"c++",replacement:"cplusplus"}];let a=c.snippit.language;const e=s.find(w=>w.original===c.snippit.language);return e&&(a=e.replacement),`devicon-${a}-plain colored`}),d=m(!1);return(s,a)=>(o(),n(D,null,[t("div",N,[r(v(_),{href:s.route("app.snippit.showEdit",{id:i.snippit.id}),class:"h-full"},{default:l(()=>[t("div",j,[t("h3",E,u(i.snippit.title),1),t("i",{class:y([C.value,"text-2xl devicon"]),title:i.snippit.language},null,10,V)]),t("p",I,u(i.snippit.description),1)]),_:1},8,["href"]),t("div",A,[t("div",F,[t("button",{class:"btn btn-icon",title:"Preview Code",onClick:k},P),f.value?(o(),n("button",{key:0,class:"btn btn-icon",title:"Copy Code to clipboard",onClick:b},[d.value?(o(),n("i",q)):(o(),n("i",W))])):h("",!0)]),i.draggable?(o(),n("div",{key:0,title:"Move Snippit to another folder",class:y([i.draggable?"cursor-move":""]),draggable:i.draggable,onDragstart:x},O,42,z)):h("",!0)])]),r($,{show:p.value,onClose:a[0]||(a[0]=e=>p.value=!1),maxWidth:"4xl"},{title:l(()=>[t("h3",G,u(i.snippit.title),1)]),content:l(()=>[t("div",J,[r(B,{snippit:i.snippit,readonly:!0},null,8,["snippit"])])]),footer:l(()=>[r(v(_),{class:"textlink",href:s.route("app.snippit.showEdit",{id:i.snippit.id})},{default:l(()=>[S("Edit snippit")]),_:1},8,["href"]),f.value?(o(),n("button",{key:0,class:"btn btn-icon",title:"Copy Code to clipboard",onClick:b},[d.value?(o(),n("i",L)):(o(),n("i",K))])):h("",!0)]),_:1},8,["show"])],64))}};export{X as _};
