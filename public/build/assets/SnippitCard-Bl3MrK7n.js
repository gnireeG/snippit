import{o as n,d as o,F as S,g as j,c as E,w as r,f as D,t as f,u as y,m as v,e as u,J as N,x as I,z as M,k as x,r as m,q as L,E as P,a as t,b as p,n as w}from"./app-D6w2USYy.js";import{_ as C}from"./DialogModal-B1afh2K7.js";import{_ as W}from"./CodeMirror-M_vLuTuv.js";const q={key:0,class:"flex gap-1 flex-wrap"},z={__name:"TagContainer",props:{tags:{type:Array,default:[]}},setup(e){return(d,l)=>e.tags.length>0?(n(),o("div",q,[(n(!0),o(S,null,j(e.tags,c=>(n(),E(y(v),{key:c.id,href:d.route("app.search")+"?tags="+c.name.en,class:"rounded-md border border-gray-500 px-1.5 py-0.5 text-sm bg-secondary hover transition-colors"},{default:r(()=>[D("#"+f(c.name.en),1)]),_:2},1032,["href"]))),128))])):u("",!0)}},$=N.create();$.interceptors.response.use(e=>e,e=>{var l,c;const d=((c=(l=e.response)==null?void 0:l.data)==null?void 0:c.message)||"An error occurred";return I.commit("addAlert",{type:"error",message:d}),Promise.reject(e)});const F={class:"bg-secondary rounded-lg px-4 py-3 flex flex-col jusitfy-between shadow-lg snippit-card"},H={class:"flex justify-between"},J={class:"heading-3"},O=["title"],G={class:"mt-2"},K={key:0,class:"mt-2"},Q={class:"flex justify-between items-center mt-4 border-t dark:border-slate-600 border-slate-400 pt-4"},R={class:"flex gap-2"},U=t("i",{class:"bi bi-eye"},null,-1),X=[U],Y={key:0,class:"bi bi-copy"},Z={key:1,class:"bi bi-clipboard-check"},ee=t("i",{class:"bi bi-trash"},null,-1),te=[ee],se=["draggable"],ie=t("i",{class:"bi bi-folder-symlink"},null,-1),ae=[ie],ne={class:"heading-3"},oe={class:"bg-slate-50 text-gray-800 h-[75vh]"},le={key:0,class:"bi bi-copy"},re={key:1,class:"bi bi-clipboard-check"},ce=t("h3",{class:"heading-3"},"Delete Snippit",-1),de=t("p",null,"Are you sure you want to delete this snippit?",-1),ge={__name:"SnippitCard",props:{snippit:Object,draggable:{type:Boolean,default:!1},deleteAble:{type:Boolean,default:!1},searchValue:{type:String,default:""}},setup(e){const d=M(),l=e;function c(i){i.dataTransfer.setData("event","moveSnippit"),i.dataTransfer.setData("snippitId",l.snippit.id);let a=i.target.closest(".snippit-card"),s=a.querySelector(".devicon").cloneNode(!0);document.body.appendChild(s),s.style.position="fixed",s.style.width=`${s.offsetWidth}px`,s.style.height=`${s.offsetHeight}px`,i.dataTransfer.setDragImage(s,5,5),i.dataTransfer.onend=function(){document.body.removeChild(s),i.target.style.opacity="",a.style.opacity="1"}}const _=x(()=>!!navigator.clipboard),k=()=>{navigator.clipboard.writeText(l.snippit.code),g.value=!0,setTimeout(()=>{g.value=!1},2e3)},b=m(!1);function T(){b.value=!0}const A=x(()=>{const i=[{original:"css",replacement:"css3"},{original:"html",replacement:"html5"},{original:"c++",replacement:"cplusplus"}];let a=l.snippit.language;const s=i.find(V=>V.original===l.snippit.language);return s&&(a=s.replacement),`devicon-${a}-plain colored`}),h=m(!1);function B(){h.value=!1,$.delete(route("app.snippit.destroy",{id:l.snippit.id})).then(i=>{console.log(i),d.commit("removeSnippit",{snippitId:l.snippit.id}),d.commit("addAlert",{type:"success",message:i.data.message})})}const g=m(!1);return(i,a)=>(n(),o(S,null,[L(t("div",F,[p(y(v),{href:i.route("app.snippit.showEdit",{id:e.snippit.id}),class:"h-full"},{default:r(()=>[t("div",H,[t("h3",J,f(e.snippit.title),1),t("i",{class:w([A.value,"text-2xl devicon"]),title:e.snippit.language},null,10,O)]),t("p",G,f(e.snippit.description),1)]),_:1},8,["href"]),e.snippit.tags?(n(),o("div",K,[p(z,{tags:e.snippit.tags},null,8,["tags"])])):u("",!0),t("div",Q,[t("div",R,[t("button",{class:"btn btn-icon",title:"Preview Code",onClick:T},X),_.value?(n(),o("button",{key:0,class:"btn btn-icon",title:"Copy Code to clipboard",onClick:k},[g.value?(n(),o("i",Z)):(n(),o("i",Y))])):u("",!0),e.deleteAble?(n(),o("button",{key:1,class:"btn btn-icon",title:"Delete Snippit",onClick:a[0]||(a[0]=s=>h.value=!0)},te)):u("",!0)]),e.draggable?(n(),o("div",{key:0,title:"Move Snippit to another folder",class:w([e.draggable?"cursor-move":""]),draggable:e.draggable,onDragstart:c},ae,42,se)):u("",!0)])],512),[[P,e.searchValue.length<1||e.snippit.title.toLowerCase().includes(e.searchValue.toLowerCase())]]),p(C,{show:b.value,onClose:a[1]||(a[1]=s=>b.value=!1),maxWidth:"4xl"},{title:r(()=>[t("h3",ne,f(e.snippit.title),1)]),content:r(()=>[t("div",oe,[p(W,{snippit:e.snippit,readonly:!0},null,8,["snippit"])])]),footer:r(()=>[p(y(v),{class:"textlink",href:i.route("app.snippit.showEdit",{id:e.snippit.id})},{default:r(()=>[D("Edit snippit")]),_:1},8,["href"]),_.value?(n(),o("button",{key:0,class:"btn btn-icon",title:"Copy Code to clipboard",onClick:k},[g.value?(n(),o("i",re)):(n(),o("i",le))])):u("",!0)]),_:1},8,["show"]),p(C,{show:h.value,onClose:a[3]||(a[3]=s=>h.value=!1),maxWidth:"lg"},{title:r(()=>[ce]),content:r(()=>[de]),footer:r(()=>[t("button",{class:"btn",onClick:a[2]||(a[2]=s=>h.value=!1)},"Cancel"),t("button",{class:"btn btn-danger",onClick:B},"Delete")]),_:1},8,["show"])],64))}};export{ge as _,$ as h};
